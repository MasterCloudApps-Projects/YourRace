config:
  target: "http://192.168.49.2:31522"
  phases:
    - duration: 60
      arrivalRate: 5      
      name: Warm up

    - duration: 180
      arrivalRate: 5000
      maxVusers: 30000
      name: Sustained load

    - duration: 300
      arrivalRate: 100
      maxVusers: 30000
      name: Load down  

  payload:

    path: "applicationId.csv"
    fields:
        - "applicationCode"

scenarios:
  - name: "Register in Race by Order"
    flow:
      - post:
          url: "/api/tracks/byorder"
          json:
            applicationCode: "{{ applicationCode }}"
          capture:
            - json: "$.results.id"
              as: "trackId"
